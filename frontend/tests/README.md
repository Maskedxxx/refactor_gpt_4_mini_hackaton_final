# Тестирование Frontend

Тестовое покрытие критических компонентов HR Assistant фронтенда.

## Структура тестов

```
tests/
├── lib/
│   └── api.test.ts            # Тесты API клиента
├── components/
│   └── auth/
│       ├── LoginForm.test.tsx  # Тесты формы входа
│       └── SignupForm.test.tsx # Тесты формы регистрации
├── pages/
│   └── AuthPage.test.tsx      # Тесты страницы авторизации
└── README.md                  # Этот файл
```

## Что покрыто тестами

### API Client (`lib/api.test.ts`)
- ✅ Успешная авторизация (login)
- ✅ Обработка ошибок авторизации  
- ✅ Успешная регистрация (signup)
- ✅ Обработка ошибок регистрации
- ✅ Получение информации о пользователе (getCurrentUser)
- ✅ Получение статуса HH.ru (getHHStatus)
- ✅ Обработка сетевых ошибок

### LoginForm Component (`components/auth/LoginForm.test.tsx`)
- ✅ Рендеринг формы со всеми полями
- ✅ Обновление значений полей при вводе
- ✅ Валидация обязательных полей
- ✅ Валидация email формата
- ✅ Валидация минимальной длины пароля
- ✅ Успешная отправка формы
- ✅ Отображение состояния загрузки
- ✅ Обработка ошибок API
- ✅ Очистка ошибок при новом вводе

### SignupForm Component (`components/auth/SignupForm.test.tsx`)
- ✅ Рендеринг формы со всеми полями (включая org_name)
- ✅ Обновление значений полей при вводе
- ✅ Валидация всех обязательных полей
- ✅ Валидация email формата
- ✅ Валидация минимальной длины пароля
- ✅ Валидация минимальной длины названия организации
- ✅ Успешная отправка формы
- ✅ Отображение состояния загрузки
- ✅ Обработка ошибок API
- ✅ Очистка ошибок при новом вводе

### AuthPage Component (`pages/AuthPage.test.tsx`)
- ✅ Рендеринг с формой входа по умолчанию
- ✅ Переключение между формами входа и регистрации
- ✅ Отображение сообщения об успехе после входа
- ✅ Отображение сообщения об успехе после регистрации
- ✅ Корректные заголовки для каждого режима
- ✅ Постоянное отображение заголовка страницы

## Запуск тестов

```bash
# Разовый запуск всех тестов
npm run test:run

# Watch режим (перезапуск при изменениях)
npm test

# UI интерфейс для тестов
npm run test:ui

# Запуск с coverage отчетом
npm run test:coverage
```

## Технологии

- **Vitest** — быстрый тестовый раннер совместимый с Vite
- **React Testing Library** — тестирование React компонентов с фокусом на UX
- **jsdom** — эмуляция браузерного окружения для Node.js
- **@testing-library/user-event** — симуляция пользовательских действий

## Принципы тестирования

1. **User-centric тестирование** — тесты взаимодействуют с компонентами как реальный пользователь
2. **Behavioral testing** — фокус на поведении, а не на реализации
3. **Error scenarios** — обязательное покрытие error handling
4. **Loading states** — тестирование состояний загрузки
5. **Form validation** — полное покрытие валидации форм

## Что не покрыто (пока)

- E2E тесты полного flow авторизации  
- Visual regression тесты
- Performance тесты
- Accessibility тесты
- Router navigation тесты

> Тесты покрывают все критические сценарии текущего функционала и обеспечивают уверенность в стабильности приложения.